<!-- public/views/index.html -->
<!DOCTYPE html>

<!-- Angular Module -->
<html ng-app="foodApp" class="no-js">
<head>
	<!-- Meta -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Platter</title>

	<!-- Universal Resources --> 
	<main-resources></main-resources>
	<script src="/resources/polymer-components/platform/platform.js"></script>
	<link rel="import" href="/resources/polymer-components/paper-elements/paper-elements.html">
	<link rel="import" href="/resources/polymer-components/core-elements/core-elements.html">
	<link rel="import" href="/resources/polymer-components/core-icons/core-icons.html">
	<script src="/resources/angular.min.js"></script>
	
	<link rel="stylesheet" href="/css/gallery.css">
</head>

<!-- load user data into angular controller -->
<body fullbleed ng-controller="galleryController" ng-init="user= <%= JSON.stringify(user) %>">

<!-- Header and Navbar --> <!--
<main-navbar></main-navbar> -->
<core-scaffold>
	<core-header-panel navigation flex>
  	<core-toolbar id="navheader">
  		<span>Platter</span>
  	</core-toolbar>
  	<core-menu>
  		<core-item label="Home">
  			<a href="/"></a>
			</core-item>
  		<core-item label="Upload">
  			<a href="/upload"></a>
  		</core-item>
  		<core-item label="Test">
  			<a href="/test"></a>
  		</core-item>
  	</core-menu>
	</core-header-panel>
  
	<span tool>Title</span>

	<div class="content">

  	<div id="main" class="centered">
			<!-- Gallery Settings -->
			<div>
				Sort by: 
				<select ng-model="sortMethod">
					<option value="-favorites">Most Popular</option>
					<option value="-dateAdded">Most Recent</option>
					<option value="name">Name (ascending)</option>
					<option value="-name">Name (descending)</option>
					<option value="state">Location</option>
					<option value="">Corn</option>
				</select>
				&nbsp&nbsp&nbsp&nbsp Show 
				<select ng-model="imgLimit">
					<option value=6>6</option>
					<option value=12>12</option>
					<option value=24>24</option>
				</select>
				at a time
			</div><br>

			<div>
				<paper-button label="test" raisedButton ng-click="test()"></paper-button>
				<paper-checkbox></paper-checkbox>
				
			</div>

			<!-- Image Gallery -->
	  	<div class="loc inline" ng-repeat="img in images | orderBy: sortMethod | limitTo: imgLimit">

				<!-- Image and Short Description -->
				<div class="crop crop-sm">
					<img ng-src="{{img.url}}" data-toggle="modal" data-target="#{{img._id}}"/>
				</div>
				<div class="desc">
					<div class="">
						<span ng-click="test(img)">{{img.name}}</span>
						<a ng-href="/location/{{img.name}}">all</a>
					</div>
					<!-- Delete button, debugging purposes only
					<div class="inline"> 
						<button type="button" class="btn btn-default" ng-click="deleteImage(img._id)">
							<span class="fa fa-trash-o"></span>
						</button>
					</div> -->
					<div class="inline"><div class="">{{img.city | characters:12 :false}}, {{img.state}}</div></div> 
					<div class="inline">
						<button type="button" class="btn btn-default btn-fav" ng-class="{active: checkFav(img)}" ng-click="modFavs(img)">
							<span class="glyphicon glyphicon-star"></span> {{img.favorites}}
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</core-scaffold>



<script src="/js/core-home.js"></script>
<script src="/js/controllers/galleryCtrl.js"></script>
<script src="/js/directives/coreDirective.js"></script>
<script src="/js/services/imgService.js"></script>
<script src="/js/filters/truncate.js"></script>
</body>
</html>
